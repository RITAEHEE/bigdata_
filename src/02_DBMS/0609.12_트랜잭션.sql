-- [XII] 트랜잭션 명령어(DML명령어) ; COMMIT, ROLLBACK, SAVEPOINT
COMMIT; -- 새로운 트랜잭션 시작(INSERT, UPDATE, DELETE 작업 새로 추가될 예정)
DROP TABLE DEPT01;
CREATE TABLE DEPT01 AS SELECT * FROM DEPT;
DESC DEPT01;
SELECT * FROM DEPT01; -- 10,20,30,40번 부서
DELETE FROM DEPT01 WHERE DEPTNO=40;
SELECT * FROM DEPT01; -- 10,20,30번 부서
ROLLBACK;
-- 새로운 트랜잭션 시작
SELECT * FROM DEPT01; -- 10,20,30,40번 부서
DELETE FROM DEPT01 WHERE DEPTNO=40;
COMMIT;
-- 새로운 트랜잭션 시작
SELECT * FROM DEPT01; -- 10,20,30번 부서
DELETE FROM DEPT01 WHERE DEPTNO=30;
SELECT * FROM DEPT01; -- 10,20번 부서
SAVEPOINT C1; -- C1지점 : 10,20
DELETE FROM DEPT01 WHERE DEPTNO=20;
SELECT * FROM DEPT01; -- 10번 부서
SAVEPOINT C2; -- C2지점 : 10
DELETE FROM DEPT01 WHERE DEPTNO=10;
SELECT * FROM DEPT01; -- 데이터 없음
ROLLBACK TO C2;
SELECT * FROM DEPT01;
COMMIT;


